{% extends 'base/formbase.html' %}
{% load static %}
{% load bootstrap3 %}

{% block stylesheets %}
<link rel="stylesheet" type="text/css" href="{% static 'css/users/main.css' %}">
{% endblock %}

<title>Assiette de Poséidon ψ Member Pre-Cart</title>

{% block setting %}
<div class="col-xl-9" style="padding-left: auto; padding-right: 0%; ">

    <div class="card2 card border-0 px-4 py-4">
        {% if user.role == user.CUSTOMER %}
        <div class="col-lg-12 p-5 bg-white rounded shadow-sm mb-5">
            <div class="bg-light rounded-pill px-4 py-3 text-uppercase font-weight-bold text-center">
                Shopping cart</div>
            {% if orderedItem == None %}
            <input type="number" id="quantity" value="0">
            {% else %}
            <input type="number" id="quantity" value="{{ orderedItem.itemQuantity }}">
            {% endif %}
            <button class="add-to-cart-button">Add to Cart</button>
        </div>
        <div class="col-lg-12 p-5 bg-white rounded shadow-sm mb-5">
            <div class="bg-light rounded-pill px-4 py-3 text-uppercase font-weight-bold text-center">
                Discussion board</div>
        </div>
        {% endif %}
    </div>
    <script>
        const BUTTON = document.querySelector(".add-to-cart-button");
        const INPUT = document.querySelector("#quantity");

        BUTTON.addEventListener("click", (e) => {
            e.preventDefault();
            window.location.href = `/menu/cart/add/{{id}}/${INPUT.value}`;
        });
    </script>
</div>

{% endblock setting %}
